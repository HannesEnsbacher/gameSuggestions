<h2>Select additional preference information</h2>

<p>This can be used to guide your suggestions more towards specific genres or tags. <br>
  This step is optional.</p>

<div class="tool-bar">
  <app-searchbar
    placeholder="Search for games"
    (search)="onSearch($event)">
  </app-searchbar>
  <div class="action-buttons">
    <app-button
      [label]="getViewSelectedButtonLabel()"
      variant="secondary"
      size="small"
      (click)="onViewSelected($event)">
    </app-button>
    <app-button
      label="Clear All"
      variant="secondary"
      size="small"
      (click)="onClearSelection($event)">
    </app-button>
  </div>
</div>


<div class="preference-container">
  <div *ngFor="let type of groupedPreferences | keyvalue">
    <ng-container *ngIf="!showSelected || hasSelectedProperty(type.key)">
      <h3>{{ capitalizeFirstLetter(type.key) }}</h3>
      <div class="preference-grid">
        <ng-container *ngFor="let preference of type.value">
          <button
            *ngIf="!showSelected || isSelected(preference)"
            class="preference-button"
            [class.selected]="isSelected(preference)"
            (click)="toggleSelectPreference(preference)">
            {{ preference.value }}
          </button>
        </ng-container>
      </div>
    </ng-container>
  </div>
</div>

<div class="bottom-buttons">
  <app-button
    label="Previous Step"
    variant="secondary"
    size="medium"
    (click)="onBack($event)">
  </app-button>

  <app-button
    label="Next Step"
    variant="primary"
    size="medium"
    (click)="onNext($event)">
  </app-button>
</div>
